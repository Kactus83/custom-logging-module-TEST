"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.LoggerClient = void 0;
const LoggingService_1 = require("../LoggingService");
class LoggerClient {
    constructor(serviceName, isMainProcess) {
        this.serviceMetadata = { serviceName, isMainProcess };
        if (!LoggingService_1.LoggingService.isInitialized() && !isMainProcess) {
            throw new Error("LoggingService must be initialized by a MainProcessLoggerClient before creating a SubProcessLoggerClient.");
        }
        LoggingService_1.LoggingService.getInstance().registerServiceIfNeeded(this.serviceMetadata);
    }
    log(level, message) {
        LoggingService_1.LoggingService.getInstance().log(this.serviceMetadata, level, message);
    }
}
exports.LoggerClient = LoggerClient;
//# sourceMappingURL=LoggerClient.js.map